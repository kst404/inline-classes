import React, { Component } from 'react'

function makeChangeHandlers(state) {

}

const underControl = (state, handlers = {}) => {
  const change = {}

  return (SourceComponent) => ({ values, onChange, ...props }) => {

    return <SourceComponent values={values} change={change} {...props} />
  }
}

class MyComponent extends Component {
  state = {
    notSaved: false,
    valid: true,
    validationErrors: {},
    product: {
      title: "",
      price: "",
      description: "",
      productProperties: {
        color: "",
        size: "",
        weight: "",
      },
      categories: [],
    },
  }

  change = underCntrol(this.state.product)

  render() {
    return <div>
      <h1>Product</h1>
      <input type="text" value={this.state.product.title} onChange={e => this.setState({ product:  })}/>
      <input type="text" value={this.state.product.price} onChange={}/>
      <input type="text" value={this.state.product.productProperties.color} onChange={}/>
      <input type="text" value={this.state.product.productProperties.size} onChange={}/>
      <input type="text" value={this.state.product.productProperties.weight} onChange={}/>
    </div>
  }
}
